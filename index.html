<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="./barbarian.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script> 
$(document).ready(function(){ 

    // Include constants
    $.getScript('http://localhost/constants.js', function() {
    // Include throttler to prevent rapid direction change
    $.getScript('http://localhost/directionThrottler.js', function() {
    // Include movement helpers
    $.getScript('http://localhost/movementHelpers.js', function() {
    // Include animation module
    $.getScript('http://localhost/animator.js', function() {
    // Include action definitions
    $.getScript('http://localhost/actions.js', function() {

    barbarian = $(".barbarian");
    windowWidth = $(document).width() - barbarian.width();
    action = '';
    oldaction = '';
    direction = '';
    olddirection = '';

    $(document).keydown(function(e) {
        var barbarian = $(".barbarian");
        switch(e.which) {
           case KEYPRESS[RUN]:
                if(!isRunning(action)) {
                    run(action);
                }
                break;
            case KEYPRESS[JUMP]:
                console.log('isJumping:' + isJumping(action));
                if (!isJumping(action)) {
                    jump(action);
                }
                break;
            case KEYPRESS[STOP]:
                action = stop(action);
                break;
            case KEYPRESS[RIGHT]:
                right(); 
                break;
            case KEYPRESS[LEFT]:
                left();
                break;
            case KEYPRESS[ATTACK]:
                if (!isAttacking(action)) {
                    attack();
                }
                break;
            case KEYPRESS[UP]:
                break;
            case KEYPRESS[DOWN]:
                break;

            default: return; // exit this handler for other keys
        }
        e.preventDefault(); // prevent the default action (scroll / move caret)
    });

})})})})})});
</script> 
</head>
<body>
<div class="barbarian"></div>
</body>
</html>


<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="./barbarian.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script> 
$(document).ready(function(){ 

    // Include constants
    $.getScript('http://localhost/constants.js', function() {
    // Include throttler to prevent rapid direction change
    $.getScript('http://localhost/directionThrottler.js', function() {
    // Include animation module
    $.getScript('http://localhost/animator.js', function() {
    // Include action definitions
    $.getScript('http://localhost/actions.js', function() {

    barbarian = $(".barbarian");
    windowWidth = $(document).width() - barbarian.width();
    action = STOP;
    oldaction = '';
    direction = RIGHT;
    olddirection = '';

    $(document).keydown(function(e) {
        var barbarian = $(".barbarian");
        switch(e.which) {
           case KEYPRESS[KP_RUN]:
                if(action !== RUN) {
                    run(action);
                }
                break;
            case KEYPRESS[KP_JUMP]:
                if (action !== JUMP) {
                    jump(action);
                }
                break;
            case KEYPRESS[KP_STOP]:
                action = stop(action);
                break;
            case KEYPRESS[KP_RIGHT]:
                direction = RIGHT;
                walk();
                break;
            case KEYPRESS[KP_LEFT]:
                direction = LEFT;
                walk(); 
                break;
            case KEYPRESS[KP_ATTACK]:
                if (action !== ATTACK) {
                    attack();
                }
                break;
            case KEYPRESS[KP_UP]:
                break;
            case KEYPRESS[KP_DOWN]:
                break;

            default: return; // exit this handler for other keys
        }
        e.preventDefault(); // prevent the default action (scroll / move caret)
    });

})})})})});
</script> 
</head>
<body>
<div class="barbarian"></div>
</body>
</html>

